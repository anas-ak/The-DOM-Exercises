<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <title>The DOM Notes - Using Events</title>

        <style>
            #container {
                width: 200px;
                height: 200px;
                position: relative;
                background: yellow;
            }

            #animate {
                width: 50px;
                height: 50px;
                position: absolute;
                background: red;
            }
        </style>
    </head>
    <body>
        <a href="https://www.w3schools.com/js/js_htmldom_css.asp">
            <h1>JavaScript HTML DOM - Page 5</h1>
        </a>

        <h2>Using Events</h2>

        <p>
            The HTML DOM allows you to execute code when an event occurs. <br>
            Events are generated by the browser when 'things happen' to HTML elements: 
            <ul>
                <li>An element is clicked on</li>
                <li>The page has loaded</li>
                <li>Input fields are changed</li>
            </ul>

            <p>
                This example changes the style of the HTML element with 
                <span id='sp'>id='id1'</span>, when the user clicks a button: 
            </p>

            <span id='id1'>Hello World!</span>
            <button onclick="document.getElementById('id1').style.color = 'red'">Turn Red</button>
        </p>

        <h2>JavaScript HTML DOM Animation</h2>

        <p>
            To demonstrate how to create HTML animations with JavaScript, 
            we will use a simple container element.
        </p>
        
        <span id='code'>
            &lt;div id='container'&gt;  <br>
            &nbsp;    &lt;div id='animate'&gt;&lt;/div&gt;    <br>
            &lt;/div&gt;
        </span>

        <h3>Style the elements</h3>
        <p>
            The container element should be created with style = <span id='sp'> "position: relative" </span>
        </p>
        <p>
            The animation element should be created with style = <span id='sp'> "position: absolute" </span>
        </p>

        <h3>Animation Code</h3>

        <ul>
            <li>JS animations are done by programming gradual changes in an element's style</li>
            <li>The changes are called by a timer.</li>
            <li>When the timer interval is small, the animation looks continuous</li>
        </ul>

        <span id='code'>
            var id = setInterval(frame, 5);<br>
            function frame() {                      <br>
            &nbsp;    if(/* test for finished */) { <br>
            &nbsp;&nbsp;        clearInterval(id);  <br>
            &nbsp;    } else {                      <br>
            &nbsp;&nbsp;     /* code to change the element style */ <br>
            &nbsp;    }                             <br>
            }
        </span> 
        <br><br>

        <button onclick='myMove()'>Let's Go!</button> <br><br>

        <div id='container'>
            <div id='animate'></div>
        </div>

        <script>
            function myMove() {
                var elem = document.getElementById('animate');
                var pos = 0;
                var tpos = pos;
                var id = setInterval(frame, 7);

                function frame() {
                    if(pos === 150) {
                        clearInterval(id);
                    } else {
                        pos++;
                        elem.style.left = pos + 'px';
                        elem.style.top = pos + 'px';
                    } 
                }
            }

        </script>

    </body>
</html>